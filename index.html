<html>
<head>

<script src="http://api.maps.ovi.com/jsl.js" type="text/javascript"></script>

<script type='text/javascript' src='./lib/jquery.js' ></script>
<script type='text/javascript' src='./lib/jquery-ui.js' ></script>
<link type='text/css' rel='stylesheet' href='./lib/jquery-theme/smoothness/jquery-ui-1.8.7.custom.css' /> 

<script type='text/javascript' src='./js/reittiopas.js' ></script>
<link type='text/javascript' rel='stylesheet' href='./style.css' />

</head>
<body>

<div id='entrypane' class='wrapper'>

<div id='results'>
Aaa
</div>

<div class='entry'>
<input id='from' class='address-entry' />

<span class='button'>My location</span>

</div>

<div class='entry'>
<input id='to' class='address-entry' />

<span class='button'>My location</span>

</div>

<div class='entry'>
<input id='date' />
<input id='time' />
</div>

<script type='text/javascript'>

// buttonize all buttons
$('.button').button();

var now = new Date();

$('#date').datepicker( {
	dateFormat : 'dd.mm.yy'
} );
$('#date').val( now.getDate() + '.' + (now.getMonth() + 1) + '.' + now.getFullYear() );

$('.address-entry').keyup( function() {
	var t = $(this);
	var address = t.val();
	// only search when there are 3 or more characters
	if( address.length < 3 ) return;
	reittiopas.address_to_location( address , function(data) {} );
} );

// geolocation

if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition( function(position){ console.log('Hello' + position.coords.latitude); }, function(){ alert('Nok!'); });
} else {
  // 
}
 

</script>

</div>

<div id='resultpane' style='display:none'>

<div id='map' style='width:400px;height:400px'></div>

<script type='text/javascript'>
var map = new ovi.mapsapi.map.Display(document.getElementById("map"), {
  components: [ new ovi.mapsapi.map.component.Behavior(),
                new ovi.mapsapi.map.component.ZoomBar(),
                new ovi.mapsapi.map.component.Overview(),                                  
                new ovi.mapsapi.map.component.ScaleBar() ],
  zoomLevel: 10,
  center: [52.51, 13.4]
});
</script>

</div>

</body>
</html>
